# Магазин цифровых товаров для онлайн игр

# Содержит 3 смарт-контракта:
- контракт, которым владеет игра (erc1155) (инвентарь)
- контракт эквивалента стоимости (erc20) (баланс)
- контракт лотов

# Интерфейсы контрактов

## Контракт игрового инвентаря

- Наследует erc1155
- ~~Позволяет изменять для предметов метаданные (название, описание, ссылку на изображение)?~~
- Отдельным полем хранится id предмета, по которому уже сама игра или сайт маркета получает json
- Имеет функцию для получения предметов инвентаря игрока (список токенов адреса с их количеством)

## Контракт баланса

- Наследует erc20

## Контракт лотов

- cоздать_лот([(контракт_игрового_инвентаря, идентификатор_предмета, цена_продажи),..]) -> идентификатор_лота
- отменить_лот(идентификатор_лота) -> bool
- получить_список_лотов(фильтрация по играм?) -> [(идентификатор_лота, контракт_игрового_инвентаря, идентификатор_предмета, цена_продажи),...]
- купить_лот(идентификатор_лота) -> bool

# Акторы

### Разработчики игр

- Представляют собой разработчиков или платформы, которые интегрируют свой контент (цифровые предметы) с маркетплейсом. 
- Каждый разработчик реализует смарт-контракт своей игры, наследующий erc721

#### Use cases:

- Добавить новый смарт-контракт инвентаря в контракт лотов
- Заэмитить токен предмета в инвентарь игроку
- Получить информацию по инвентарю игрока (все его токены и их количество)

### Игроки (покупатели)

- Пользователи, которые взаимодействуют с маркетплейсом, покупают или продают предметы

#### Use cases:

- Создать лот
- Отменить лот
- Купить лот
- Получить информацию о своих лотах
- Получить информацию о своем балансе
- Купить токены площадки

### Маркетплейс

- Центральная платформа, координатор лотов

#### Use cases:

- Заэмитить сумму на баланс
- Добавить смарт-контракт игры (маркет)
- Убрать смарт-контракт игры (маркет)
- Получить лоты игрока
- Получить список игроков с выложенными лотами

# Описание работы методов контрактов

## Контракт лотов

### создать_лот([(контракт_игрового_инвентаря, идентификатор_предмета, цена_продажи),...]) -> идентификатор_лота

...

### отменить_лот(идентификатор_лота) -> bool

...

### получить_список_лотов(фильтрация по играм?) -> [(идентификатор_лота, контракт_игрового_инвентаря, идентификатор_предмета, цена_продажи),...]

...

### купить_лот(идентификатор_лота) -> bool

...

## Контракт инвентаря (ERC721)

### получить_токены_игрока/содержимое_инвентаря(адрес_игрока)

...

## Контракт токенов валюты площадки (ERC20)

...